Promotion:
q3k2q/1PP3P1/8/8/8/8/1pp4p/Q3K3 w - -

Castling:
r3k2r/8/8/8/8/8/8/R3K2R w KQkq -

Instant ep capture:
rnbqkbnr/pppppppp/8/8/3pP3/8/PPPP1PPP/RNBQKBNR b KQkq e3

Pins & checks:
8/4k2q/b3p3/8/2P2PP1/3K4/8/4Q3 w - -

Testposition from Seb Lauge
r3k2r/p1ppqpb1/Bn2pnp1/3PN3/1p2P3/2N2Q1p/PPPB1PPP/R3K2R b KQkq